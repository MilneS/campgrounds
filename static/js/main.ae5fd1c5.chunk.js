(this.webpackJsonpcampgrounds=this.webpackJsonpcampgrounds||[]).push([[0],{10:function(e,a,t){e.exports={container:"Details_container__2Oj6o",cardButtonsBig:"Details_cardButtonsBig__3kkC0",cardButtonsSmall:"Details_cardButtonsSmall__bA5k9",img:"Details_img__2FBxc",title:"Details_title__OugfD",DescrAuthPrice:"Details_DescrAuthPrice__34iBY",location:"Details_location__3rk2w",reviewContainer:"Details_reviewContainer__3WnDJ",titleReview:"Details_titleReview__3SPSe",textareaTitle:"Details_textareaTitle__2cjpH",textarea:"Details_textarea__2nz_6",reviewCard:"Details_reviewCard__2K-Uh",cardMid:"Details_cardMid__HHsnk",cardSmall:"Details_cardSmall__28Mj2",cardBig:"Details_cardBig__19Y40",commentMsg:"Details_commentMsg__11z92",NoCommentsMsg:"Details_NoCommentsMsg__1eNcn",warning:"Details_warning__EDbfE"}},24:function(e,a,t){e.exports={background:"Home_background__3HbSX",middleContainer:"Home_middleContainer__qPjjp",title:"Home_title__3h164",message:"Home_message__3Y9k4",homeButton:"Home_homeButton__QywTi"}},28:function(e,a,t){e.exports={container:"CampsCard_container__e7ffi",img:"CampsCard_img__3sxmh",containerInfo:"CampsCard_containerInfo__3JXPw",title:"CampsCard_title__1tu2g",description:"CampsCard_description__38J2C",location:"CampsCard_location__19D1b",button:"CampsCard_button__1Jnu4",buttonSmall:"CampsCard_buttonSmall__2Rl_s"}},29:function(e,a,t){e.exports={containerBig:"NewCamp_containerBig__1cORp",form:"NewCamp_form__2zNpO",h1:"NewCamp_h1__2iugb",button:"NewCamp_button__3TkYp",containerSmall:"NewCamp_containerSmall__2wM-6",h2:"NewCamp_h2__1seBp",file:"NewCamp_file__1i_Fo"}},30:function(e,a,t){e.exports={login:"LoginComp_login__2Nr3o",signUp:"LoginComp_signUp__3pJBo",errorMsg:"LoginComp_errorMsg__2oOW3",smallCard:"LoginComp_smallCard__2zLBS",bigCard:"LoginComp_bigCard__2jDlV"}},31:function(e,a,t){e.exports={signup:"SignupComp_signup__1F1p1",login:"SignupComp_login__2CWFt",errorMsg:"SignupComp_errorMsg__3DF0s",smallCard:"SignupComp_smallCard__2rrC-",bigCard:"SignupComp_bigCard__3lSZ5"}},32:function(e,a,t){e.exports={navbar:"NavbarComp_navbar__2raUi",campgroundsLogo:"NavbarComp_campgroundsLogo__3Wnzz",campgroundsLink:"NavbarComp_campgroundsLink__c5qYo",loginLink:"NavbarComp_loginLink__152zl",active:"NavbarComp_active__KQnEd"}},33:function(e,a,t){e.exports={containerBig:"Edit_containerBig__2koeC",form:"Edit_form__UvPpR",h1:"Edit_h1__3kTf6",button:"Edit_button__3vqQL",containerSmall:"Edit_containerSmall__1irxs",h2:"Edit_h2__2rXIL"}},36:function(e,a,t){e.exports={container:"Camps_container__2FW0O",h1:"Camps_h1__7jZsE",h2:"Camps_h2__3_D6w",button:"Camps_button__3Z1wg",buttonSmall:"Camps_buttonSmall__1dk-m",titleContainer:"Camps_titleContainer__3KJQ3"}},56:function(e,a,t){e.exports={cardContainer:"Login_cardContainer__nypt3",card:"Login_card__1SygN"}},69:function(e,a,t){},70:function(e,a,t){},90:function(e,a,t){"use strict";t.r(a);var c=t(1),s=t.n(c),n=t(26),i=t.n(n),r=(t(69),t(70),t(13)),o=t(14),l=t(24),d=t.n(l),j=t(0),m=function(){return Object(j.jsx)("div",{className:d.a.background,children:Object(j.jsxs)("div",{className:d.a.main,children:[Object(j.jsx)("div",{className:d.a.nav,children:Object(j.jsxs)("ul",{className:d.a.ul,children:[Object(j.jsx)("div",{className:d.a.logolink,children:"CampGrounds"}),Object(j.jsx)(r.c,{to:"/campgrounds/camps",className:d.a.link,children:"All campgrounds"}),Object(j.jsx)(r.c,{to:"/campgrounds/login",className:d.a.loginLink,children:"Login"})]})}),Object(j.jsxs)("div",{className:d.a.middleContainer,children:[Object(j.jsx)("h1",{className:d.a.title,children:"CampGrounds"}),Object(j.jsx)("div",{className:d.a.message,children:Object(j.jsxs)("p",{children:["Welcome to CampGrounds! ",Object(j.jsx)("br",{}),"Jump right in and explore our many campgrounds. ",Object(j.jsx)("br",{})," Login or sign up to share some of your own and comment on others!"]})}),Object(j.jsx)(r.c,{to:"/campgrounds/camps",children:Object(j.jsx)("button",{className:d.a.homeButton,children:"View Campgrounds"})})]})]})})},b=t(16),p=t.n(b),u=t(21),h=t(36),g=t.n(h),O=t(7),x=t(28),f=t.n(x),C=t(12),_=t(59),v=(t(91),t(84),_.initializeApp({apiKey:"AIzaSyARuiSwVM9zIxDFozL5bILtQJOzUP-SbLk",authDomain:"campgrounds-daabb.firebaseapp.com",databaseURL:"https://campgrounds-daabb-default-rtdb.firebaseio.com",projectId:"campgrounds-daabb",storageBucket:"campgrounds-daabb.appspot.com",messagingSenderId:"939628795347",appId:"1:939628795347:web:643c09cd414dfe13b2cb26",measurementId:"G-4KSK6ZMC4Y"})),N=function(e){var a=Object(c.useState)(),t=Object(O.a)(a,2),s=t[0],n=t[1],i=e.item,o=e.dataKey;return Object(c.useEffect)((function(){v.storage().ref().child("images/".concat(o)).getDownloadURL().then((function(e){n(e)})).catch((function(e){return console.log("Getting image failed on campCard ".concat(JSON.stringify(e.message)))}))}),[e.item]),Object(j.jsxs)("div",{className:f.a.container,children:[Object(j.jsx)("div",{className:f.a.containerImg,children:Object(j.jsx)("img",{src:s,alt:"",className:f.a.img})}),Object(j.jsxs)("div",{className:f.a.containerInfo,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:f.a.title,children:i.title}),Object(j.jsx)("div",{className:f.a.description,children:i.description}),Object(j.jsx)("div",{className:f.a.location,children:i.location})]}),Object(j.jsx)("div",{className:f.a.button,children:Object(j.jsx)(r.c,{to:"/campgrounds/details/".concat(o),children:Object(j.jsx)(C.a,{variant:"primary",size:"lg",type:"button",className:"mb-3",children:"View"})})}),Object(j.jsx)("div",{className:f.a.buttonSmall,children:Object(j.jsx)(r.c,{to:"/campgrounds/details/".concat(o),children:Object(j.jsx)(C.a,{variant:"primary",size:"sm",type:"button",className:"mb-3",children:"View"})})})]})]})},y=t(9),w=function(){var e=Object(y.b)(),a=Object(y.c)((function(e){return e.isLoggedin})),t=Object(y.c)((function(e){return e.allCamps}));Object(c.useEffect)((function(){n()}),[]);var s=function(){e({type:"logginFromCampsBtn"})},n=function(){var a=Object(u.a)(p.a.mark((function a(){var t,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"https://campgrounds-daabb-default-rtdb.firebaseio.com/campgrounds.json",a.next=3,fetch("https://campgrounds-daabb-default-rtdb.firebaseio.com/campgrounds.json",{method:"GET"});case 3:if(!(t=a.sent).ok){a.next=11;break}return a.next=7,t.json();case 7:c=a.sent,e({type:"setAllCamps",payload:c}),a.next=13;break;case 11:"Getting all camps failed!",console.log("Getting all camps failed!");case 13:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:g.a.container,children:[Object(j.jsxs)("div",{className:g.a.titleContainer,children:[Object(j.jsx)("h1",{className:g.a.h1,children:"All CampGrounds"}),Object(j.jsx)("h2",{className:g.a.h2,children:"All CampGrounds"}),Object(j.jsxs)("div",{className:g.a.button,children:[a&&Object(j.jsx)(r.c,{to:"/campgrounds/newcamp",children:Object(j.jsx)(C.a,{variant:"success",size:"lg",type:"button",className:"mb-3",children:"Add Campground"})}),!a&&Object(j.jsx)(r.c,{to:"/campgrounds/login",children:Object(j.jsx)(C.a,{variant:"success",size:"lg",type:"button",className:"mb-3",onClick:s,children:"Add Campground"})})]}),Object(j.jsxs)("div",{className:g.a.buttonSmall,children:[a&&Object(j.jsx)(r.c,{to:"/campgrounds/newcamp",children:Object(j.jsx)(C.a,{variant:"success",size:"sm",type:"button",className:"mb-3",children:"Add Campground"})}),!a&&Object(j.jsx)(r.c,{to:"/campgrounds/login",children:Object(j.jsx)(C.a,{variant:"success",size:"sm",type:"button",className:"mb-3",onClick:s,children:"Add Campground"})})]})]}),function(){if(Object.keys(t).length)return Object.keys(t).map((function(e,a){return Object(j.jsx)(N,{item:t[e],dataKey:e},a)}))}()]})},S=t(56),k=t.n(S),L=t(11),D=t(2),F=t(30),B=t.n(F),I=t.p+"static/media/LoginPic.e44accc1.jpeg",z=t(8),T=t(3),G=function(){var e=Object(y.c)((function(e){return e.logginFromCamps})),a=Object(o.g)(),t=Object(y.b)(),s=Object(c.useState)(),n=Object(O.a)(s,2),i=n[0],r=n[1],l=Object(c.useState)(!1),d=Object(O.a)(l,2),m=d[0],b=d[1],h=Object(c.useState)({emailBig:"",emailSmall:"",passwordBig:"",passwordSmall:""}),g=Object(O.a)(h,2),x=g[0],f=g[1],_=function(e){e.preventDefault(),t({type:"signupComp"})},v=function(e){f(Object(D.a)(Object(D.a)({},x),{},Object(L.a)({},e.target.id,e.currentTarget.value)))},N=function(e){e.preventDefault(),t({type:"loginFormData",payload:x}),w()},w=function(){var c=Object(u.a)(p.a.mark((function c(){var s,n,i;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyARuiSwVM9zIxDFozL5bILtQJOzUP-SbLk",c.next=3,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyARuiSwVM9zIxDFozL5bILtQJOzUP-SbLk",{method:"POST",body:JSON.stringify({email:x.emailBig||x.emailSmall,password:x.passwordBig||x.passwordSmall,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 3:return s=c.sent,c.next=6,s.json();case 6:if(n=c.sent,!s.ok){c.next=17;break}return t({type:"loggedin"}),t({type:"idToken",payload:n.idToken}),localStorage.setItem("token",n.idToken),localStorage.setItem("userEmail",n.email),e?a.replace("/campgrounds/newcamp"):(a.push("/campgrounds/camps"),t({type:"logoutFromCampsBtn"})),b(!1),c.abrupt("return",n);case 17:n&&n.error&&n.error.message&&(i=n.error.message,r(i),b(!0));case 18:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:B.a.bigCard,children:Object(j.jsxs)(z.a,{style:{width:"27rem"},children:[Object(j.jsx)(z.a.Img,{variant:"top",src:I}),Object(j.jsxs)(z.a.Body,{children:[Object(j.jsx)(z.a.Title,{className:"mb-4",children:Object(j.jsx)("p",{className:B.a.login,children:"Login"})}),m&&Object(j.jsx)("p",{className:B.a.errorMsg,children:i}),Object(j.jsxs)(T.a,{children:[Object(j.jsx)(T.a.Group,{className:"mb-3",children:Object(j.jsx)(T.a.Control,{id:"emailBig",type:"email",placeholder:"Enter email",onChange:v})}),Object(j.jsx)(T.a.Group,{className:"mb-3",children:Object(j.jsx)(T.a.Control,{id:"passwordBig",type:"password",placeholder:"Password",onChange:v})}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(C.a,{onClick:N,variant:"success",size:"lg",type:"submit",className:"mb-3",children:"Login"})})]}),Object(j.jsx)("p",{className:B.a.signUp,onClick:_,children:"Or sign up."})]})]})}),Object(j.jsx)("div",{className:B.a.smallCard,children:Object(j.jsxs)(z.a,{style:{width:"18rem"},children:[Object(j.jsx)(z.a.Img,{variant:"top",src:I}),Object(j.jsxs)(z.a.Body,{children:[Object(j.jsx)(z.a.Title,{className:"mb-4",children:Object(j.jsx)("p",{className:B.a.login,children:"Login"})}),m&&Object(j.jsx)("p",{className:B.a.errorMsg,children:i}),Object(j.jsxs)(T.a,{children:[Object(j.jsx)(T.a.Group,{className:"mb-3",children:Object(j.jsx)(T.a.Control,{id:"emailSmall",type:"email",placeholder:"Enter email",onChange:v})}),Object(j.jsx)(T.a.Group,{className:"mb-3",children:Object(j.jsx)(T.a.Control,{id:"passwordSmall",type:"password",placeholder:"Password",onChange:v})}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(C.a,{onClick:N,variant:"success",size:"sm",type:"submit",className:"mb-3",children:"Login"})})]}),Object(j.jsx)("p",{className:B.a.signUp,onClick:_,children:"Or sign up."})]})]})})]})},A=t(31),P=t.n(A),E=function(){var e=Object(o.g)(),a=Object(c.useState)({emailBig:"",emailSmall:"",passwordBig:"",passwordSmall:""}),t=Object(O.a)(a,2),s=t[0],n=t[1],i=Object(c.useState)(),r=Object(O.a)(i,2),l=r[0],d=r[1],m=Object(c.useState)(!1),b=Object(O.a)(m,2),h=b[0],g=b[1],x=Object(y.b)(),f=function(e){e.preventDefault(),x({type:"loginComp"})},_=function(e){n(Object(D.a)(Object(D.a)({},s),{},Object(L.a)({},e.target.id,e.currentTarget.value)))},v=function(e){e.preventDefault(),x({type:"loginFormData",payload:s}),N()},N=function(){var a=Object(u.a)(p.a.mark((function a(){var t,c,n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyARuiSwVM9zIxDFozL5bILtQJOzUP-SbLk",a.next=3,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyARuiSwVM9zIxDFozL5bILtQJOzUP-SbLk",{method:"POST",body:JSON.stringify({email:s.emailBig||s.emailSmall,password:s.passwordBig||s.passwordSmall,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 3:return t=a.sent,a.next=6,t.json();case 6:if(c=a.sent,!t.ok){a.next=16;break}return x({type:"loggedin"}),x({type:"idToken",payload:c.idToken}),localStorage.setItem("token",c.idToken),e.push("/campgrounds/camps"),g(!1),a.abrupt("return",c);case 16:c&&c.error&&c.error.message&&(n=c.error.message,d(n),g(!0));case 17:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:P.a.bigCard,children:Object(j.jsxs)(z.a,{style:{width:"27rem"},children:[Object(j.jsx)(z.a.Img,{variant:"top",src:I}),Object(j.jsxs)(z.a.Body,{children:[Object(j.jsx)(z.a.Title,{className:"mb-4",children:Object(j.jsx)("p",{className:P.a.signup,children:"Sign up"})}),h&&Object(j.jsx)("p",{className:P.a.errorMsg,children:l}),Object(j.jsxs)(T.a,{children:[Object(j.jsx)(T.a.Group,{className:"mb-3",children:Object(j.jsx)(T.a.Control,{type:"email",id:"emailBig",placeholder:"Email",onChange:_})}),Object(j.jsx)(T.a.Group,{className:"mb-3",children:Object(j.jsx)(T.a.Control,{type:"password",id:"passwordBig",placeholder:"Password",onChange:_})}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(C.a,{onClick:v,variant:"success",size:"lg",type:"submit",className:"mb-3",children:"Sign up"})})]}),Object(j.jsx)("p",{className:P.a.login,onClick:f,children:"Or login."})]})]})}),Object(j.jsx)("div",{className:P.a.smallCard,children:Object(j.jsxs)(z.a,{style:{width:"18rem"},children:[Object(j.jsx)(z.a.Img,{variant:"top",src:I}),Object(j.jsxs)(z.a.Body,{children:[Object(j.jsx)(z.a.Title,{className:"mb-4",children:Object(j.jsx)("p",{className:P.a.signup,children:"Sign up"})}),h&&Object(j.jsx)("p",{className:P.a.errorMsg,children:l}),Object(j.jsxs)(T.a,{children:[Object(j.jsx)(T.a.Group,{className:"mb-3",children:Object(j.jsx)(T.a.Control,{type:"email",id:"emailSmall",placeholder:"Email",onChange:_})}),Object(j.jsx)(T.a.Group,{className:"mb-3",children:Object(j.jsx)(T.a.Control,{type:"password",id:"passwordSmall",placeholder:"Password",onChange:_})}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(C.a,{onClick:v,variant:"success",size:"sm",type:"submit",className:"mb-3",children:"Sign up"})})]}),Object(j.jsx)("p",{className:P.a.login,onClick:f,children:"Or login."})]})]})})]})},M=function(){var e=Object(y.c)((function(e){return e.showLogin})),a=Object(y.c)((function(e){return e.showSignup}));return Object(j.jsx)("div",{className:k.a.cardContainer,children:Object(j.jsxs)("div",{className:k.a.card,children:[e&&Object(j.jsx)(G,{}),a&&Object(j.jsx)(E,{})]})})},U=t(29),V=t.n(U),J=function(){var e=Object(o.g)(),a=localStorage.getItem("userEmail"),t=Object(y.c)((function(e){return e.loginFormData})),s={title:"",location:"",price:"",description:"",author:a||t.email},n=Object(c.useState)(s),i=Object(O.a)(n,2),r=i[0],l=i[1],d=Object(c.useState)(),m=Object(O.a)(d,2),b=m[0],h=m[1],g=function(){var e=Object(u.a)(p.a.mark((function e(){var c,s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://campgrounds-daabb-default-rtdb.firebaseio.com/campgrounds.json",e.next=3,fetch("https://campgrounds-daabb-default-rtdb.firebaseio.com/campgrounds.json",{method:"POST",body:JSON.stringify({title:r.title,location:r.location,price:r.price,description:r.description,author:a||t.email})});case 3:if(!(c=e.sent).ok){e.next=12;break}return e.next=7,c.json();case 7:return s=e.sent,n=s.name,e.abrupt("return",n);case 12:"Adding new camp failed!",console.log("Adding new camp failed!");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){l(Object(D.a)(Object(D.a)({},r),{},Object(L.a)({},e.target.id,e.target.value)))},f=function(e){if(e.target.files&&e.target.files[0]){var a=e.target.files[0];a&&h(a)}},_=Object(c.useState)(!1),N=Object(O.a)(_,2),w=N[0],S=N[1],k=Object(c.useState)(!1),F=Object(O.a)(k,2),B=F[0],I=F[1],z=function(a){a.preventDefault(),I(!0),g().then((function(a){if(b&&b.name){var t=v.storage().ref();b.dataKey=a,t.child("images/".concat(b.dataKey)).put(b).then((function(){e.push("/campgrounds/camps")}))}})),!1===a.target.checkValidity()&&a.stopPropagation(),S(!0)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:V.a.containerBig,children:[Object(j.jsx)("h1",{className:V.a.h1,children:"New CampGround"}),Object(j.jsxs)(T.a,{className:V.a.form,noValidate:!0,validated:w,children:[Object(j.jsxs)(T.a.Group,{className:"mb-3",children:[Object(j.jsx)(T.a.Label,{htmlFor:"title",children:"Title"}),Object(j.jsx)(T.a.Control,{type:"text",id:"title",onChange:x,required:!0})]}),Object(j.jsxs)(T.a.Group,{className:"mb-3",children:[Object(j.jsx)(T.a.Label,{htmlFor:"location",children:"Location"}),Object(j.jsx)(T.a.Control,{type:"text",id:"location",onChange:x,required:!0})]}),Object(j.jsxs)(T.a.Group,{className:"mb-3",children:[Object(j.jsx)(T.a.Label,{htmlFor:"price",children:"Campground price"}),Object(j.jsx)(T.a.Control,{type:"number",id:"price",onChange:x,required:!0})]}),Object(j.jsxs)(T.a.Group,{className:"mb-4",children:[Object(j.jsx)(T.a.Label,{htmlFor:"description",children:"Description"}),Object(j.jsx)(T.a.Control,{as:"textarea",rows:3,id:"description",onChange:x,required:!0})]}),Object(j.jsx)(T.a.Group,{className:"mb-4",children:Object(j.jsx)(T.a.Control,{type:"file",id:"image",onChange:f,required:!0})}),Object(j.jsx)("div",{className:V.a.button,children:Object(j.jsx)(C.a,{variant:"success",size:"lg",type:"button",className:"mb-3",onClick:z,disabled:B,children:"Add campground"})})]})]}),Object(j.jsxs)("div",{className:V.a.containerSmall,children:[Object(j.jsx)("h2",{className:V.a.h2,children:"New CampGround"}),Object(j.jsxs)(T.a,{className:V.a.form,noValidate:!0,validated:w,children:[Object(j.jsxs)(T.a.Group,{className:"mb-2",children:[Object(j.jsx)(T.a.Label,{htmlFor:"title",children:"Title"}),Object(j.jsx)(T.a.Control,{type:"text",id:"title",onChange:x,required:!0})]}),Object(j.jsxs)(T.a.Group,{className:"mb-2",children:[Object(j.jsx)(T.a.Label,{htmlFor:"location",children:"Location"}),Object(j.jsx)(T.a.Control,{type:"text",id:"location",onChange:x,required:!0})]}),Object(j.jsxs)(T.a.Group,{className:"mb-2",children:[Object(j.jsx)(T.a.Label,{htmlFor:"price",children:"Campground price"}),Object(j.jsx)(T.a.Control,{type:"number",id:"price",onChange:x,required:!0})]}),Object(j.jsxs)(T.a.Group,{className:"mb-3",children:[Object(j.jsx)(T.a.Label,{htmlFor:"description",children:"Description"}),Object(j.jsx)(T.a.Control,{as:"textarea",rows:3,id:"description",onChange:x,required:!0})]}),Object(j.jsx)(T.a.Group,{className:"mb-3",children:Object(j.jsx)(T.a.Control,{type:"file",id:"image",onChange:f,required:!0,className:V.a.file})}),Object(j.jsx)("div",{className:V.a.button,children:Object(j.jsx)(C.a,{variant:"success",size:"sm",type:"button",className:"mb-3",onClick:z,disabled:B,children:"Add campground"})})]})]})]})},R=t(32),q=t.n(R),K=t(48),H=t(64),Q=t(61),W=function(){var e=Object(y.b)(),a=Object(y.c)((function(e){return e.isLoggedin})),t=function(){e({type:"logoutFromCampsBtn"}),o(!1)},s=Object(c.useState)(!1),n=Object(O.a)(s,2),i=n[0],o=n[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(K.a,{fixed:"top",collapseOnSelect:!0,expand:"lg",expanded:i,bg:"dark",variant:"dark",className:q.a.navbar,children:Object(j.jsxs)(Q.a,{children:[Object(j.jsx)(r.c,{to:"/campgrounds",className:q.a.campgroundsLogo,onClick:t,children:"CampGrounds"}),Object(j.jsx)(K.a.Toggle,{"aria-controls":"basic-navbar-nav",onClick:function(){o(!i)}}),Object(j.jsx)(K.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(H.a,{className:"me-auto",children:[Object(j.jsx)(r.c,{onClick:t,to:"/campgrounds/camps",id:"all",className:q.a.campgroundsLink,activeClassName:q.a.active,children:"All campgrounds"}),!a&&Object(j.jsx)(r.c,{to:"/campgrounds/login",id:"login",className:q.a.loginLink,activeClassName:q.a.active,onClick:function(){e({type:"loginComp"}),o(!1)},children:"Login"}),a&&Object(j.jsx)(r.c,{to:"/campgrounds/login",id:"login",className:q.a.loginLink,activeClassName:q.a.active,onClick:function(){e({type:"loggedout"}),e({type:"getToken",token:null}),localStorage.removeItem("token"),localStorage.removeItem("userEmail"),o(!1)},children:"Logout"})]})})]})})})},Y=t(10),Z=t.n(Y),X=t(33),$=t.n(X),ee=function(e){var a=Object(y.b)(),t=e.campData,s=e.campId,n=e.getCampFunc,i=function(e){a({type:"detailsComp"})},r={title:t.title,location:t.location,price:t.price,description:t.description},o=Object(c.useState)(r),l=Object(O.a)(o,2),d=l[0],m=l[1],b=function(e){m(Object(D.a)(Object(D.a)({},d),{},Object(L.a)({},e.target.id,e.target.value)))},p=function(e){v.database().ref().child("campgrounds/".concat(s)).update({title:d.title,location:d.location,price:d.price,description:d.description}).then((function(){a({type:"updateCamp",payload:s,payloadData:{title:d.title,location:d.location,price:d.price,description:d.description}}),a({type:"detailsComp"}),n()})).catch((function(e){console.log(e)}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:$.a.containerBig,children:[Object(j.jsx)("h1",{className:$.a.h1,children:"Update CampGround"}),Object(j.jsxs)(T.a,{className:$.a.form,children:[Object(j.jsxs)(T.a.Group,{className:"mb-3",children:[Object(j.jsx)(T.a.Label,{htmlFor:"title",children:"Title"}),Object(j.jsx)(T.a.Control,{type:"text",id:"title",defaultValue:t.title,onChange:b})]}),Object(j.jsxs)(T.a.Group,{className:"mb-3",children:[Object(j.jsx)(T.a.Label,{htmlFor:"location",children:"Location"}),Object(j.jsx)(T.a.Control,{type:"text",id:"location",defaultValue:t.location,onChange:b})]}),Object(j.jsxs)(T.a.Group,{className:"mb-3",children:[Object(j.jsx)(T.a.Label,{htmlFor:"price",children:"Campground price"}),Object(j.jsx)(T.a.Control,{type:"number",id:"price",defaultValue:t.price,onChange:b})]}),Object(j.jsxs)(T.a.Group,{className:"mb-4",children:[Object(j.jsx)(T.a.Label,{htmlFor:"description",children:"Description"}),Object(j.jsx)(T.a.Control,{as:"textarea",rows:3,id:"description",defaultValue:t.description,onChange:b})]}),Object(j.jsxs)("div",{className:$.a.button,children:[Object(j.jsx)(C.a,{onClick:p,variant:"success",size:"lg",type:"button",className:"mb-3",children:"Update"}),Object(j.jsx)(C.a,{onClick:i,variant:"secondary",size:"lg",type:"button",className:"mb-3",children:"Cancel"})]})]})]}),Object(j.jsxs)("div",{className:$.a.containerSmall,children:[Object(j.jsx)("h2",{className:$.a.h2,children:"Update CampGround"}),Object(j.jsxs)(T.a,{className:$.a.form,children:[Object(j.jsxs)(T.a.Group,{className:"mb-2",children:[Object(j.jsx)(T.a.Label,{htmlFor:"title",children:"Title"}),Object(j.jsx)(T.a.Control,{type:"text",id:"title",defaultValue:t.title,onChange:b})]}),Object(j.jsxs)(T.a.Group,{className:"mb-2",children:[Object(j.jsx)(T.a.Label,{htmlFor:"location",children:"Location"}),Object(j.jsx)(T.a.Control,{type:"text",id:"location",defaultValue:t.location,onChange:b})]}),Object(j.jsxs)(T.a.Group,{className:"mb-2",children:[Object(j.jsx)(T.a.Label,{htmlFor:"price",children:"Campground price"}),Object(j.jsx)(T.a.Control,{type:"number",id:"price",defaultValue:t.price,onChange:b})]}),Object(j.jsxs)(T.a.Group,{className:"mb-3",children:[Object(j.jsx)(T.a.Label,{htmlFor:"description",children:"Description"}),Object(j.jsx)(T.a.Control,{as:"textarea",rows:3,id:"description",defaultValue:t.description,onChange:b})]}),Object(j.jsxs)("div",{className:$.a.button,children:[Object(j.jsx)(C.a,{onClick:p,variant:"success",size:"sm",type:"button",className:"mb-3",children:"Update"}),Object(j.jsx)(C.a,{onClick:i,variant:"secondary",size:"sm",type:"button",className:"mb-3",children:"Cancel"})]})]})]})]})},ae=t(47),te=t(23),ce=function(){var e=localStorage.getItem("userEmail"),a=localStorage.getItem("userEmail"),t=Object(o.g)(),s=Object(y.b)(),n=Object(o.h)(),i=Object(y.c)((function(e){return e.loginFormData})),r=Object(y.c)((function(e){return e.allCamps})),l=Object(y.c)((function(e){return e.showEdit})),d=Object(y.c)((function(e){return e.isLoggedin})),m={comment:"",author:e||i.email,id:""},b=Object(c.useState)(!1),h=Object(O.a)(b,2),g=h[0],x=h[1],f=Object(c.useState)(""),_=Object(O.a)(f,2),N=_[0],w=_[1],S=Object(c.useState)(!1),k=Object(O.a)(S,2),F=k[0],B=k[1],I=Object(c.useState)(""),G=Object(O.a)(I,2),A=G[0],P=G[1],E=Object(c.useState)([]),M=Object(O.a)(E,2),U=M[0],V=M[1],J=Object(c.useState)(),R=Object(O.a)(J,2),q=R[0],K=R[1],H=Object(c.useState)(m),Q=Object(O.a)(H,2),W=Q[0],Y=Q[1],X=Object(c.useState)({author:"",description:"",location:"",price:"",title:"",comments:{}}),$=Object(O.a)(X,2),ce=$[0],se=$[1],ne=function(){var e=Object(u.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://campgrounds-daabb-default-rtdb.firebaseio.com/campgrounds.json",e.next=3,fetch("https://campgrounds-daabb-default-rtdb.firebaseio.com/campgrounds.json",{method:"GET"});case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:t=e.sent,s({type:"setAllCamps",payload:t}),e.next=13;break;case 11:"Getting all camps failed!",console.log("Getting all camps failed!");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(Object.keys(r).length){var e=Object.keys(r).find((function(e){return e===n.camp}));e&&(se(r[e]),P(e))}}),[r]);Object(c.useEffect)((function(){ne(),v.storage().ref().child("images/".concat(n.camp)).getDownloadURL().then((function(e){K(e)}))}),[]);var ie=function(e){var a,c=v.database().ref();a=v.storage().ref(),c.child("campgrounds/".concat(n.camp)).remove(),a.child("images/".concat(n.camp)).delete().then((function(){s({type:"removeCamp",payload:n.camp}),t.replace("/campgrounds/camps")})).catch((function(e){console.log("error")}))},re=function(e){s({type:"editComp"})};Object(c.useEffect)((function(){var e=[],a=ce.comments;for(var t in a){var c=Object(D.a)(Object(D.a)({},a[t]),{},{id:t});e.push(c)}V(e)}),[ce]);var oe=function(){var a=Object(u.a)(p.a.mark((function a(){var t,c,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t="".concat("https://campgrounds-daabb-default-rtdb.firebaseio.com/campgrounds/").concat(A,"/comments.json")||!1,!W.comment.trim().length){a.next=15;break}return a.next=4,fetch(t,{method:"POST",body:JSON.stringify({author:e||i.email,comment:W.comment})});case 4:if(!(c=a.sent).ok){a.next=13;break}return a.next=8,c.json();case 8:return s=a.sent,ne(),a.abrupt("return",s);case 13:"Adding new camp failed!",console.log("Adding new camp failed!");case 15:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),le=function(){var e=Object(u.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),B(!0),w(""),e.next=5,oe();case 5:Y(m),B(!1),!1===a.target.checkValidity()&&a.stopPropagation(),x(!0);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),de=function(){var e=Object(u.a)(p.a.mark((function e(a){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.database().ref(),c=a.currentTarget.id,e.next=4,t.child("campgrounds/".concat(n.camp,"/comments/").concat(c)).remove();case 4:ne();case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{children:[!l&&ce&&Object(j.jsxs)("div",{className:Z.a.container,children:[Object(j.jsxs)("div",{children:[a===ce.author&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:Z.a.cardButtonsBig,children:[Object(j.jsx)(C.a,{variant:"primary",type:"button",className:"mb-2",size:"lg",onClick:re,children:"Update"}),Object(j.jsx)(C.a,{variant:"danger",type:"button",className:"mb-2",size:"lg",onClick:ie,children:"Delete"})]}),Object(j.jsxs)("div",{className:Z.a.cardButtonsSmall,children:[Object(j.jsx)(C.a,{variant:"primary",type:"button",className:"mb-2",size:"sm",onClick:re,children:"Update"}),Object(j.jsx)(C.a,{variant:"danger",type:"button",className:"mb-2",size:"sm",onClick:ie,children:"Delete"})]})]}),Object(j.jsx)("div",{className:Z.a.cardBig,children:Object(j.jsxs)(z.a,{style:{width:"40rem"},children:[Object(j.jsx)(z.a.Img,{variant:"top",src:q}),Object(j.jsxs)(z.a.Body,{children:[Object(j.jsx)(z.a.Title,{className:Z.a.title,children:ce.title}),Object(j.jsx)(z.a.Text,{className:Z.a.DescrAuthPrice,children:ce.description})]}),Object(j.jsxs)(ae.a,{className:"list-group-flush",children:[Object(j.jsx)(te.a,{className:Z.a.location,children:ce.location}),Object(j.jsxs)(te.a,{className:Z.a.DescrAuthPrice,children:["Submitted by ",ce.author]}),Object(j.jsxs)(te.a,{className:Z.a.DescrAuthPrice,children:["Price/night: $",ce.price]})]})]})}),Object(j.jsx)("div",{className:Z.a.cardMid,children:Object(j.jsxs)(z.a,{style:{width:"30rem"},children:[Object(j.jsx)(z.a.Img,{variant:"top",src:q}),Object(j.jsxs)(z.a.Body,{children:[Object(j.jsx)(z.a.Title,{className:Z.a.title,children:ce.title}),Object(j.jsx)(z.a.Text,{className:Z.a.DescrAuthPrice,children:ce.description})]}),Object(j.jsxs)(ae.a,{className:"list-group-flush",children:[Object(j.jsx)(te.a,{className:Z.a.location,children:ce.location}),Object(j.jsxs)(te.a,{className:Z.a.DescrAuthPrice,children:["Submitted by ",ce.author]}),Object(j.jsxs)(te.a,{className:Z.a.DescrAuthPrice,children:["Price/night: $",ce.price]})]})]})}),Object(j.jsx)("div",{className:Z.a.cardSmall,children:Object(j.jsxs)(z.a,{style:{width:"18rem"},children:[Object(j.jsx)(z.a.Img,{variant:"top",src:q}),Object(j.jsxs)(z.a.Body,{children:[Object(j.jsx)(z.a.Title,{className:Z.a.title,children:ce.title}),Object(j.jsx)(z.a.Text,{className:Z.a.DescrAuthPrice,children:ce.description})]}),Object(j.jsxs)(ae.a,{className:"list-group-flush",children:[Object(j.jsx)(te.a,{className:Z.a.location,children:ce.location}),Object(j.jsxs)(te.a,{className:Z.a.DescrAuthPrice,children:["Submitted by ",ce.author]}),Object(j.jsxs)(te.a,{className:Z.a.DescrAuthPrice,children:["Price/night: $",ce.price]})]})]})})]}),Object(j.jsxs)("div",{className:Z.a.reviewContainer,children:[Object(j.jsx)("h1",{className:Z.a.titleReview,children:"Leave a review"}),d&&Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:Z.a.textareaTitle,children:"Review text"}),Object(j.jsxs)(T.a,{className:Z.a.reviewForm,noValidate:!0,validated:g,children:[Object(j.jsx)(T.a.Group,{className:"mb-3",children:Object(j.jsx)(T.a.Control,{as:"textarea",rows:3,id:"comment",onChange:function(e){Y(Object(D.a)(Object(D.a)({},W),{},Object(L.a)({},e.target.id,e.target.value))),w(e.target.value)},value:N,required:!0})}),Object(j.jsx)(C.a,{variant:"success",size:"lg",type:"button",className:"mb-5",onClick:le,disabled:F,children:"Submit"})]})]}),U.length<=0&&Object(j.jsx)("div",{className:Z.a.NoCommentsMsg,children:"No comments available."}),U.length>0&&U.map((function(e,t){return Object(j.jsxs)(z.a,{className:Z.a.reviewCard,children:[Object(j.jsx)(z.a.Title,{children:e.author}),Object(j.jsxs)(z.a.Text,{children:["Review: ",e.comment]}),a===e.author&&Object(j.jsx)("div",{className:Z.a.reviewButton,children:Object(j.jsx)(C.a,{variant:"danger",type:"button",className:"mb-1",onClick:de,id:e.id,children:"Delete"})})]},t)}))]}),Object(j.jsx)("div",{className:Z.a.warning,children:"\u26a0 Comments under construction \u26a0"})]}),l&&Object(j.jsx)(ee,{campData:ce,campId:A,getCampFunc:ne})]})})};var se=function(){var e=Object(y.c)((function(e){return e.isLoggedin}));return Object(j.jsx)(r.b,{basename:"/",children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(W,{}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/campgrounds",exact:!0,children:Object(j.jsx)(m,{})}),Object(j.jsx)(o.b,{path:"/campgrounds/camps",children:Object(j.jsx)(w,{})}),Object(j.jsx)(o.b,{path:"/campgrounds/details/:camp",children:Object(j.jsx)(ce,{})}),Object(j.jsxs)(o.b,{path:"/campgrounds/newcamp",children:[e&&Object(j.jsx)(J,{}),!e&&Object(j.jsx)(o.a,{to:"/campgrounds/login"})]}),Object(j.jsx)(o.b,{path:"/campgrounds/login",children:Object(j.jsx)(M,{})}),Object(j.jsx)(o.b,{path:"*",children:Object(j.jsx)(o.a,{to:"/campgrounds"})})]})]})})},ne=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,93)).then((function(a){var t=a.getCLS,c=a.getFID,s=a.getFCP,n=a.getLCP,i=a.getTTFB;t(e),c(e),s(e),n(e),i(e)}))},ie=(t(89),t(63)),re={showLogin:!0,showSignup:!1,showEdit:!1,showDetails:!0,loginFormData:{email:"",password:""},idToken:localStorage.getItem("token")||"",userId:localStorage.getItem("userId")||"",isLoggedin:!!localStorage.getItem("token"),logginFromCamps:!1,allCamps:{}},oe=Object(ie.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"loginComp":return Object(D.a)(Object(D.a)({},e),{},{showLogin:!0,showSignup:!1});case"signupComp":return Object(D.a)(Object(D.a)({},e),{},{showSignup:!0,showLogin:!1});case"detailsComp":return Object(D.a)(Object(D.a)({},e),{},{showDetails:!0,showEdit:!1});case"editComp":return Object(D.a)(Object(D.a)({},e),{},{showEdit:!0,showDetails:!1});case"signupFormData":return Object(D.a)(Object(D.a)({},e),{},{signUpFormData:a.payload});case"loginFormData":return Object(D.a)(Object(D.a)({},e),{},{loginFormData:a.payload});case"loggedin":return Object(D.a)(Object(D.a)({},e),{},{isLoggedin:!0});case"loggedout":return Object(D.a)(Object(D.a)({},e),{},{isLoggedin:!1,loginFormData:null});case"logginFromCampsBtn":return Object(D.a)(Object(D.a)({},e),{},{logginFromCamps:!0});case"logoutFromCampsBtn":return Object(D.a)(Object(D.a)({},e),{},{logginFromCamps:!1});case"setAllCamps":return Object(D.a)(Object(D.a)({},e),{},{allCamps:a.payload});case"removeCamp":var t=e.allCamps;return delete t[a.payload],Object(D.a)(Object(D.a)({},e),{},{allCamps:t});case"updateCamp":var c=e.allCamps;return c[a.payload]=a.payloadData,Object(D.a)(Object(D.a)({},e),{},{allCamps:c});case"getToken":return Object(D.a)(Object(D.a)({},e),{},{idToken:a.payload});default:return e}})),le=oe;i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(y.a,{store:le,children:Object(j.jsx)(r.a,{children:Object(j.jsx)(se,{})})})}),document.getElementById("root")),ne()}},[[90,1,2]]]);
//# sourceMappingURL=main.ae5fd1c5.chunk.js.map