(this.webpackJsonpcampgrounds=this.webpackJsonpcampgrounds||[]).push([[0],{10:function(e,t,a){e.exports={container:"Details_container__2Oj6o",cardButtons:"Details_cardButtons__1mp0R",img:"Details_img__2FBxc",title:"Details_title__OugfD",DescrAuthPrice:"Details_DescrAuthPrice__34iBY",location:"Details_location__3rk2w",reviewContainer:"Details_reviewContainer__3WnDJ",titleReview:"Details_titleReview__3SPSe",textareaTitle:"Details_textareaTitle__2cjpH",textarea:"Details_textarea__2nz_6",reviewCard:"Details_reviewCard__2K-Uh",card:"Details_card__25dEN",NoCommentsMsg:"Details_NoCommentsMsg__1eNcn",warning:"Details_warning__EDbfE",reviewBtn:"Details_reviewBtn__2Cpwn",submitReviewBtn:"Details_submitReviewBtn__1mndp",deleteReviewButton:"Details_deleteReviewButton__GZ1DP",loadingCont:"Details_loadingCont__3ySv3",loading:"Details_loading__3GUXD",authorReview:"Details_authorReview__2U1bi"}},23:function(e,t,a){e.exports={background:"Home_background__3HbSX",middleContainer:"Home_middleContainer__qPjjp",title:"Home_title__3h164",message:"Home_message__3Y9k4",homeButton:"Home_homeButton__QywTi"}},27:function(e,t,a){e.exports={container:"CampsCard_container__e7ffi",img:"CampsCard_img__3sxmh",containerInfo:"CampsCard_containerInfo__3JXPw",title:"CampsCard_title__1tu2g",description:"CampsCard_description__38J2C",location:"CampsCard_location__19D1b",button:"CampsCard_button__1Jnu4"}},28:function(e,t,a){e.exports={navbar:"NavbarComp_navbar__2raUi",campgroundsLogo:"NavbarComp_campgroundsLogo__3Wnzz",campgroundsLink:"NavbarComp_campgroundsLink__c5qYo",loginLink:"NavbarComp_loginLink__152zl",active:"NavbarComp_active__KQnEd"}},30:function(e,t,a){e.exports={container:"NewCamp_container__1i68C",form:"NewCamp_form__2zNpO",h1:"NewCamp_h1__2iugb",file:"NewCamp_file__1i_Fo",button:"NewCamp_button__3TkYp",loadingCont:"NewCamp_loadingCont__1UGpF",loading:"NewCamp_loading__3SodY"}},33:function(e,t,a){e.exports={container:"Camps_container__2FW0O",h1:"Camps_h1__7jZsE",button:"Camps_button__3Z1wg",loading:"Camps_loading__de6is",titleContainer:"Camps_titleContainer__3KJQ3"}},41:function(e,t,a){e.exports={login:"LoginComp_login__2Nr3o",signUp:"LoginComp_signUp__3pJBo",errorMsg:"LoginComp_errorMsg__2oOW3",loginBtn:"LoginComp_loginBtn__wWWF6",card:"LoginComp_card__2mGIf"}},42:function(e,t,a){e.exports={signup:"SignupComp_signup__1F1p1",login:"SignupComp_login__2CWFt",errorMsg:"SignupComp_errorMsg__3DF0s",signupBtn:"SignupComp_signupBtn__2ghD2",card:"SignupComp_card__1arrs"}},44:function(e,t,a){e.exports={container:"Edit_container__1s2P1",form:"Edit_form__UvPpR",h1:"Edit_h1__3kTf6",button:"Edit_button__3vqQL"}},57:function(e,t,a){e.exports={cardContainer:"Login_cardContainer__nypt3",card:"Login_card__1SygN"}},70:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),i=a(25),s=a.n(i),r=(a(70),a(13)),o=a(11),l=a(23),d=a.n(l),j=a(1),m=function(){return Object(j.jsx)("div",{className:d.a.background,children:Object(j.jsxs)("div",{className:d.a.main,children:[Object(j.jsx)("div",{className:d.a.nav,children:Object(j.jsxs)("ul",{className:d.a.ul,children:[Object(j.jsx)("div",{className:d.a.logolink,children:"CampGrounds"}),Object(j.jsx)(r.c,{to:"/campgrounds/camps",className:d.a.link,children:"All campgrounds"}),Object(j.jsx)(r.c,{to:"/campgrounds/login",className:d.a.loginLink,children:"Login"})]})}),Object(j.jsxs)("div",{className:d.a.middleContainer,children:[Object(j.jsx)("h1",{className:d.a.title,children:"CampGrounds"}),Object(j.jsx)("div",{className:d.a.message,children:Object(j.jsxs)("p",{children:["Welcome to CampGrounds! ",Object(j.jsx)("br",{}),"Jump right in and explore our many campgrounds. ",Object(j.jsx)("br",{})," Login or sign up to share some of your own and comment on others!"]})}),Object(j.jsx)(r.c,{to:"/campgrounds/camps",children:Object(j.jsx)("button",{className:d.a.homeButton,children:"View Campgrounds"})})]})]})})},u=a(14),p=a.n(u),b=a(21),g=a(6),O=a(33),h=a.n(O),x=a(8),f=a(27),_=a.n(f),v=a(15),C=a(38),N=a.n(C),w=(a(84),a(86),a(94),Object(C.initializeApp)({apiKey:"AIzaSyDbl4Q9DskMa6Q7OxHZ0diiUyz7pP_JIu0",authDomain:"campgrounds-5234d.firebaseapp.com",databaseURL:"https://campgrounds-5234d-default-rtdb.firebaseio.com/",projectId:"campgrounds-5234d",storageBucket:"campgrounds-5234d.appspot.com",messagingSenderId:"578373587621",appId:"1:578373587621:web:9d7f1f72142d777568734c",measurementId:"G-8DGCYJSBY9"}),N.a.auth()),y=N.a.database(),D=N.a.storage(),S=function(e){var t=Object(c.useState)(),a=Object(g.a)(t,2),n=a[0],i=a[1],s=e.item,o=e.dataKey;return Object(c.useEffect)((function(){D.ref("images/".concat(o)).getDownloadURL().then((function(e){i(e)})).catch((function(e){return console.log("Getting image failed on campCard ".concat(JSON.stringify(e.message)))}))}),[e.item]),Object(j.jsxs)("div",{className:_.a.container,children:[Object(j.jsx)("div",{className:_.a.containerImg,children:Object(j.jsx)("img",{src:n,alt:"",className:_.a.img})}),Object(j.jsxs)("div",{className:_.a.containerInfo,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:_.a.title,children:s.title}),Object(j.jsx)("div",{className:_.a.description,children:s.description}),Object(j.jsx)("div",{className:_.a.location,children:s.location})]}),Object(j.jsx)("div",{children:Object(j.jsx)(r.c,{to:"/campgrounds/details/".concat(o),children:Object(j.jsx)(v.a,{variant:"primary",size:"lg",type:"button",className:_.a.button,children:"View"})})})]})]})},k=function(){var e=Object(c.useState)("/campgrounds/login"),t=Object(g.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(!0),s=Object(g.a)(i,2),o=s[0],l=s[1],d=Object(x.b)(),m=Object(x.c)((function(e){return e.isLoggedin})),u=Object(x.c)((function(e){return e.allCamps})),O=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.ref("camps/").on("value",(function(e){var t=e.val();t&&d({type:"setAllCamps",payload:t}),l(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){O()}),[]);return Object(c.useEffect)((function(){n(m?"/campgrounds/newcamp":"/campgrounds/login")}),[]),Object(j.jsxs)("div",{className:h.a.container,children:[Object(j.jsxs)("div",{className:h.a.titleContainer,children:[Object(j.jsx)("h1",{className:h.a.h1,children:"All CampGrounds"}),Object(j.jsx)("div",{children:Object(j.jsx)(r.c,{to:a,children:Object(j.jsx)(v.a,{variant:"success",size:"lg",type:"button",className:h.a.button,children:"Add Campground"})})})]}),o?Object(j.jsx)("div",{className:h.a.loading,children:"Loading..."}):0===Object.keys(u).length?Object(j.jsx)("div",{className:h.a.loading,children:"No campgrounds available."}):function(){if(Object.keys(u).length)return Object.keys(u).map((function(e,t){return Object(j.jsx)(S,{item:u[e],dataKey:e},t)}))}()]})},L=a(57),F=a.n(L),B=a(9),I=a(2),E=a(41),G=a.n(E),T=a.p+"static/media/LoginPic.e44accc1.jpeg",P=a(16),R=a(7),z=function(){var e=Object(c.useState)({email:"",password:""}),t=Object(g.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(!1),s=Object(g.a)(i,2),r=s[0],l=s[1],d=Object(c.useState)(!1),m=Object(g.a)(d,2),u=m[0],O=m[1],h=Object(x.c)((function(e){return e.logginFromCamps})),f=Object(o.g)(),_=Object(x.b)(),C=function(e){r&&l(!1),n(Object(I.a)(Object(I.a)({},a),{},Object(B.a)({},e.target.id,e.currentTarget.value)))},N=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.signInWithEmailAndPassword(a.email,a.password).then((function(e){var t=e.user.ya;return _({type:"loggedin"}),_({type:"idToken",payload:t}),localStorage.setItem("token",t),localStorage.setItem("userEmail",a.email),h?f.replace("/campgrounds/newcamp"):(f.push("/campgrounds/camps"),_({type:"logoutFromCampsBtn"})),l(!1),a})).catch((function(e){l(!0)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(P.a,{style:{width:"27rem"},className:G.a.card,children:[Object(j.jsx)(P.a.Img,{variant:"top",src:T}),Object(j.jsxs)(P.a.Body,{children:[Object(j.jsx)(P.a.Title,{className:"mb-4",children:Object(j.jsx)("p",{className:G.a.login,children:"Login"})}),r&&Object(j.jsx)("p",{className:G.a.errorMsg,children:"Invalid credentials"}),Object(j.jsxs)(R.a,{onSubmit:function(e){e.preventDefault(),!1===e.target.checkValidity()?e.stopPropagation():(N(),_({type:"loginFormData",payload:a})),O(!0)},noValidate:!0,validated:u,children:[Object(j.jsx)(R.a.Group,{className:"mb-3",children:Object(j.jsx)(R.a.Control,{id:"email",type:"email",placeholder:"Enter email",onChange:C})}),Object(j.jsx)(R.a.Group,{className:"mb-3",children:Object(j.jsx)(R.a.Control,{id:"password",type:"password",placeholder:"Password",onChange:C})}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(v.a,{variant:"success",size:"lg",type:"submit",className:G.a.loginBtn,children:"Login"})})]}),Object(j.jsx)("p",{className:G.a.signUp,onClick:function(e){e.preventDefault(),_({type:"signupComp"})},children:"Or sign up."})]})]})})},A=a(42),U=a.n(A),V=function(){var e=Object(c.useState)({email:"",password:""}),t=Object(g.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(),s=Object(g.a)(i,2),r=s[0],l=s[1],d=Object(c.useState)(!1),m=Object(g.a)(d,2),u=m[0],O=m[1],h=Object(c.useState)(!1),f=Object(g.a)(h,2),_=f[0],C=f[1],N=Object(x.c)((function(e){return e.logginFromCamps})),y=Object(x.b)(),D=Object(o.g)(),S=function(e){u&&O(!1),n(Object(I.a)(Object(I.a)({},a),{},Object(B.a)({},e.target.id,e.currentTarget.value)))},k=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.createUserWithEmailAndPassword(a.email,a.password).then((function(e){var t=e.user.ya;return y({type:"loggedin"}),y({type:"idToken",payload:t}),localStorage.setItem("token",t),localStorage.setItem("userEmail",a.email),N?D.replace("/campgrounds/newcamp"):(D.push("/campgrounds/camps"),y({type:"logoutFromCampsBtn"})),O(!1),a})).catch((function(e){e.message&&(l(e.message),O(!0))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(P.a,{style:{width:"27rem"},className:U.a.card,children:[Object(j.jsx)(P.a.Img,{variant:"top",src:T}),Object(j.jsxs)(P.a.Body,{children:[Object(j.jsx)(P.a.Title,{className:"mb-4",children:Object(j.jsx)("p",{className:U.a.signup,children:"Sign up"})}),u&&Object(j.jsx)("p",{className:U.a.errorMsg,children:r}),Object(j.jsxs)(R.a,{onSubmit:function(e){e.preventDefault(),!1===e.target.checkValidity()?e.stopPropagation():(k(),y({type:"loginFormData",payload:a})),C(!0)},noValidate:!0,validated:_,children:[Object(j.jsx)(R.a.Group,{className:"mb-3",children:Object(j.jsx)(R.a.Control,{type:"email",id:"email",placeholder:"Email",onChange:S})}),Object(j.jsx)(R.a.Group,{className:"mb-3",children:Object(j.jsx)(R.a.Control,{type:"password",id:"password",placeholder:"Password",onChange:S})}),Object(j.jsx)("div",{className:"d-grid gap-2",children:Object(j.jsx)(v.a,{variant:"success",size:"lg",type:"submit",className:U.a.signupBtn,children:"Sign up"})})]}),Object(j.jsx)("p",{className:U.a.login,onClick:function(e){e.preventDefault(),y({type:"loginComp"})},children:"Or login."})]})]})})},J=function(){var e=Object(x.c)((function(e){return e.showLogin})),t=Object(x.c)((function(e){return e.showSignup}));return Object(j.jsx)("div",{className:F.a.cardContainer,children:Object(j.jsxs)("div",{className:F.a.card,children:[e&&Object(j.jsx)(z,{}),t&&Object(j.jsx)(V,{})]})})},M=a(30),W=a.n(M),q=function(){var e=localStorage.getItem("userEmail"),t=Object(o.g)(),a=Object(x.c)((function(e){return e.loginFormData})),n={title:"",location:"",price:"",description:"",author:e||a.email},i=Object(c.useState)(n),s=Object(g.a)(i,2),r=s[0],l=s[1],d=Object(c.useState)(),m=Object(g.a)(d,2),u=m[0],O=m[1],h=Object(c.useState)(!1),f=Object(g.a)(h,2),_=f[0],C=f[1],N=Object(c.useState)(!0),w=Object(g.a)(N,2),S=w[0],k=w[1],L=Object(c.useState)(!1),F=Object(g.a)(L,2),E=F[0],G=F[1],T=function(){var c=Object(b.a)(p.a.mark((function c(){var n,i,s,o,l,d;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:G(!0),i="".concat(new Date).concat(null!==(n=null===e||void 0===e?void 0:e.split("@")[0])&&void 0!==n?n:a.email.split("@")[0]),s=r.title,o=r.location,l=r.price,d=r.description,y.ref("camps/".concat(i)).set({title:s,location:o,price:l,description:d,author:e||a.email}),u&&u.name&&D.ref().child("images/".concat(i)).put(u).then((function(e){t.push("/campgrounds/camps")}));case 5:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),P=function(e){k(!1),l(Object(I.a)(Object(I.a)({},r),{},Object(B.a)({},e.target.id,e.target.value)))};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:W.a.container,children:E?Object(j.jsx)("div",{className:W.a.loadingCont,children:Object(j.jsx)("div",{className:W.a.loading,children:"Loading... This takes a while..."})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:W.a.h1,children:"New CampGround"}),Object(j.jsxs)(R.a,{className:W.a.form,noValidate:!0,validated:_,onSubmit:function(e){e.preventDefault(),k(!0),!1===e.target.checkValidity()?(e.preventDefault(),e.stopPropagation()):T(),C(!0)},children:[Object(j.jsxs)(R.a.Group,{className:"mb-3",children:[Object(j.jsx)(R.a.Label,{htmlFor:"title",children:"Title"}),Object(j.jsx)(R.a.Control,{type:"text",id:"title",onChange:P,required:!0})]}),Object(j.jsxs)(R.a.Group,{className:"mb-3",children:[Object(j.jsx)(R.a.Label,{htmlFor:"location",children:"Location"}),Object(j.jsx)(R.a.Control,{type:"text",id:"location",onChange:P,required:!0})]}),Object(j.jsxs)(R.a.Group,{className:"mb-3",children:[Object(j.jsx)(R.a.Label,{htmlFor:"price",children:"Campground price"}),Object(j.jsx)(R.a.Control,{type:"number",id:"price",onChange:P,required:!0})]}),Object(j.jsxs)(R.a.Group,{className:"mb-3",children:[Object(j.jsx)(R.a.Label,{htmlFor:"description",children:"Description"}),Object(j.jsx)(R.a.Control,{as:"textarea",rows:3,id:"description",onChange:P,required:!0})]}),Object(j.jsx)(R.a.Group,{children:Object(j.jsx)(R.a.Control,{type:"file",className:W.a.file,id:"image",onChange:function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0];t&&(k(!1),O(t))}},required:!0})}),Object(j.jsxs)("div",{className:W.a.button,children:[Object(j.jsx)(v.a,{variant:"success",size:"lg",type:"submit",className:"mb-3",disabled:S,children:"Add campground"}),Object(j.jsx)(v.a,{onClick:function(){t.push("/campgrounds/camps")},variant:"secondary",size:"lg",type:"button",className:"mb-3",children:"Cancel"})]})]})]})})})},H=a(28),Y=a.n(H),K=a(50),Q=a(65),Z=a(61),X=function(){var e=Object(c.useState)(!1),t=Object(g.a)(e,2),a=t[0],n=t[1],i=Object(x.b)(),s=Object(x.c)((function(e){return e.isLoggedin})),o=function(){i({type:"logoutFromCampsBtn"}),n(!1),i({type:"detailsComp"})};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(K.a,{fixed:"top",collapseOnSelect:!0,expand:"lg",expanded:a,bg:"dark",variant:"dark",className:Y.a.navbar,children:Object(j.jsxs)(Z.a,{children:[Object(j.jsx)(r.c,{to:"/campgrounds",className:Y.a.campgroundsLogo,onClick:o,children:"CampGrounds"}),Object(j.jsx)(K.a.Toggle,{"aria-controls":"basic-navbar-nav",onClick:function(){n(!a)}}),Object(j.jsx)(K.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(Q.a,{className:"me-auto",children:[Object(j.jsx)(r.c,{onClick:o,to:"/campgrounds/camps",id:"all",className:Y.a.campgroundsLink,activeClassName:Y.a.active,children:"All campgrounds"}),!s&&Object(j.jsx)(r.c,{to:"/campgrounds/login",id:"login",className:Y.a.loginLink,activeClassName:Y.a.active,onClick:function(){i({type:"loginComp"}),n(!1)},children:"Login"}),s&&Object(j.jsx)(r.c,{to:"/campgrounds/login",id:"login",className:Y.a.loginLink,activeClassName:Y.a.active,onClick:function(){i({type:"loggedout"}),i({type:"getToken",token:null}),i({type:"loginComp"}),localStorage.removeItem("token"),localStorage.removeItem("userEmail"),n(!1)},children:"Logout"})]})})]})})})},$=a(10),ee=a.n($),te=a(44),ae=a.n(te),ce=function(e){var t=e.campId,a=e.getCampFunc,n=e.campData,i={title:n.title,location:n.location,price:n.price,description:n.description},s=Object(c.useState)(i),r=Object(g.a)(s,2),o=r[0],l=r[1],d=Object(x.b)(),m=function(e){l(Object(I.a)(Object(I.a)({},o),{},Object(B.a)({},e.target.id,e.target.value)))};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:ae.a.container,children:[Object(j.jsx)("h1",{className:ae.a.h1,children:"Update CampGround"}),Object(j.jsxs)(R.a,{className:ae.a.form,children:[Object(j.jsxs)(R.a.Group,{className:"mb-3",children:[Object(j.jsx)(R.a.Label,{htmlFor:"title",children:"Title"}),Object(j.jsx)(R.a.Control,{type:"text",id:"title",defaultValue:n.title,onChange:m})]}),Object(j.jsxs)(R.a.Group,{className:"mb-3",children:[Object(j.jsx)(R.a.Label,{htmlFor:"location",children:"Location"}),Object(j.jsx)(R.a.Control,{type:"text",id:"location",defaultValue:n.location,onChange:m})]}),Object(j.jsxs)(R.a.Group,{className:"mb-3",children:[Object(j.jsx)(R.a.Label,{htmlFor:"price",children:"Campground price"}),Object(j.jsx)(R.a.Control,{type:"number",id:"price",defaultValue:n.price,onChange:m})]}),Object(j.jsxs)(R.a.Group,{className:"mb-4",children:[Object(j.jsx)(R.a.Label,{htmlFor:"description",children:"Description"}),Object(j.jsx)(R.a.Control,{as:"textarea",rows:3,id:"description",defaultValue:n.description,onChange:m})]}),Object(j.jsxs)("div",{className:ae.a.button,children:[Object(j.jsx)(v.a,{onClick:function(e){y.ref().child("camps/".concat(t)).update({title:o.title,location:o.location,price:o.price,description:o.description}).then((function(){d({type:"updateCamp",payload:t,payloadData:{title:o.title,location:o.location,price:o.price,description:o.description}}),d({type:"detailsComp"}),a()})).catch((function(e){console.log(e)}))},variant:"success",size:"lg",type:"button",className:"mb-3",children:"Update"}),Object(j.jsx)(v.a,{onClick:function(e){d({type:"detailsComp"})},variant:"secondary",size:"lg",type:"button",className:"mb-3",children:"Cancel"})]})]})]})})},ne=a(63),ie=a(40),se=function(){var e=localStorage.getItem("userEmail"),t=localStorage.getItem("userEmail"),a=Object(o.g)(),n=Object(x.b)(),i=Object(o.h)(),s=Object(x.c)((function(e){return e.loginFormData})),r=Object(x.c)((function(e){return e.allCamps})),l=Object(x.c)((function(e){return e.showEdit})),d=Object(x.c)((function(e){return e.isLoggedin})),m={comment:"",author:e||s.email,id:""},u=Object(c.useState)(!1),O=Object(g.a)(u,2),h=O[0],f=O[1],_=Object(c.useState)(""),C=Object(g.a)(_,2),N=C[0],w=C[1],S=Object(c.useState)(!1),k=Object(g.a)(S,2),L=k[0],F=k[1],E=Object(c.useState)(""),G=Object(g.a)(E,2),T=G[0],z=G[1],A=Object(c.useState)([]),U=Object(g.a)(A,2),V=U[0],J=U[1],M=Object(c.useState)(),W=Object(g.a)(M,2),q=W[0],H=W[1],Y=Object(c.useState)(m),K=Object(g.a)(Y,2),Q=K[0],Z=K[1],X=Object(c.useState)({author:"",description:"",location:"",price:"",title:"",comments:{}}),$=Object(g.a)(X,2),te=$[0],ae=$[1],se=Object(c.useState)(!0),re=Object(g.a)(se,2),oe=re[0],le=re[1],de=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.ref("camps/").on("value",(function(e){var t=e.val();if(t)n({type:"setAllCamps",payload:t});else{console.log("Getting all camps failed!")}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(Object.keys(r).length){var e=Object.keys(r).find((function(e){return e===i.camp}));e&&(ae(r[e]),z(e))}}),[r]),Object(c.useEffect)((function(){de(),D.ref("images/".concat(i.camp)).getDownloadURL().then((function(e){H(e),le(!1)})).catch((function(e){le(!1),console.log("Getting image failed on campCard ".concat(JSON.stringify(e.message)))}))}),[]);Object(c.useEffect)((function(){var e=[],t=te.comments;for(var a in t){var c=Object(I.a)(Object(I.a)({},t[a]),{},{id:a});e.push(c)}J(e)}),[te]);var je=function(){var t=Object(b.a)(p.a.mark((function t(){var a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c="".concat(new Date).concat(null!==(a=null===e||void 0===e?void 0:e.split("@")[0])&&void 0!==a?a:s.email.split("@")[0]),y.ref().child("camps/".concat(T,"/comments/").concat(c)).update({author:e||s.email,comment:Q.comment}),de();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),me=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),F(!0),w(""),e.next=5,je();case 5:Z(m),F(!1),!1===t.target.checkValidity()&&t.stopPropagation(),f(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.ref(),c=t.currentTarget.id,e.next=4,a.child("camps/".concat(i.camp,"/comments/").concat(c)).remove();case 4:de();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:oe?Object(j.jsx)("div",{className:ee.a.loadingCont,children:Object(j.jsx)("div",{className:ee.a.loading,children:"Loading..."})}):Object(j.jsxs)("div",{children:[!l&&te&&Object(j.jsxs)("div",{className:ee.a.container,children:[Object(j.jsxs)("div",{children:[t===te.author&&Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:ee.a.cardButtons,children:[Object(j.jsx)(v.a,{variant:"primary",type:"button",className:ee.a.reviewBtn,size:"lg",onClick:function(e){n({type:"editComp"})},children:"Update"}),Object(j.jsx)(v.a,{variant:"danger",type:"button",className:ee.a.reviewBtn,size:"lg",onClick:function(e){var t=y.ref();le(!0),t.child("camps/".concat(i.camp)).remove(),D.ref().child("images/".concat(i.camp)).delete().then((function(){n({type:"removeCamp",payload:i.camp}),a.replace("/campgrounds/camps")})).catch((function(e){console.log("error")}))},children:"Delete"})]})}),Object(j.jsx)("div",{className:ee.a.card,children:Object(j.jsxs)(P.a,{style:{width:"40rem"},children:[Object(j.jsx)(P.a.Img,{variant:"top",src:q}),Object(j.jsxs)(P.a.Body,{children:[Object(j.jsx)(P.a.Title,{className:ee.a.title,children:te.title}),Object(j.jsx)(P.a.Text,{className:ee.a.DescrAuthPrice,children:te.description})]}),Object(j.jsxs)(ne.a,{className:"list-group-flush",children:[Object(j.jsx)(ie.a,{className:ee.a.location,children:te.location}),Object(j.jsxs)(ie.a,{className:ee.a.DescrAuthPrice,children:["Submitted by ",te.author]}),Object(j.jsxs)(ie.a,{className:ee.a.DescrAuthPrice,children:["Price/night: $",te.price]})]})]})})]}),Object(j.jsxs)("div",{className:ee.a.reviewContainer,children:[d&&Object(j.jsx)("h1",{className:ee.a.titleReview,children:"Leave a review"}),!d&&Object(j.jsx)("h1",{className:ee.a.titleReview,children:"Reviews"}),d&&Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:ee.a.textareaTitle,children:"Review text"}),Object(j.jsxs)(R.a,{className:ee.a.reviewForm,noValidate:!0,validated:h,children:[Object(j.jsx)(R.a.Group,{className:"mb-3",children:Object(j.jsx)(R.a.Control,{as:"textarea",rows:3,id:"comment",onChange:function(e){Z(Object(I.a)(Object(I.a)({},Q),{},Object(B.a)({},e.target.id,e.target.value))),w(e.target.value)},value:N,required:!0})}),Object(j.jsx)(v.a,{variant:"success",size:"lg",type:"submit",className:ee.a.submitReviewBtn,onClick:me,disabled:L,children:"Submit"})]})]}),V.length<=0&&Object(j.jsx)("div",{className:ee.a.NoCommentsMsg,children:"No reviews available."}),Object(j.jsx)("div",{className:ee.a.commCont,children:V.length>0&&V.map((function(e,a){return Object(j.jsxs)(P.a,{className:ee.a.reviewCard,children:[Object(j.jsx)(P.a.Title,{className:ee.a.authorReview,children:e.author}),Object(j.jsx)(P.a.Text,{children:e.comment}),t===e.author&&Object(j.jsx)("div",{children:Object(j.jsx)(v.a,{variant:"danger",type:"button",className:ee.a.deleteReviewButton,onClick:ue,id:e.id,children:"Delete"})})]},a)}))})]})]}),l&&Object(j.jsx)(ce,{campData:te,campId:T,getCampFunc:de})]})})};var re=function(){var e=Object(x.c)((function(e){return e.isLoggedin}));return Object(j.jsx)(r.b,{basename:"/",children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(X,{}),Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/campgrounds",exact:!0,children:Object(j.jsx)(m,{})}),Object(j.jsx)(o.b,{path:"/campgrounds/camps",children:Object(j.jsx)(k,{})}),Object(j.jsx)(o.b,{path:"/campgrounds/details/:camp",children:Object(j.jsx)(se,{})}),Object(j.jsxs)(o.b,{path:"/campgrounds/newcamp",children:[e&&Object(j.jsx)(q,{}),!e&&Object(j.jsx)(o.a,{to:"/campgrounds/login"})]}),Object(j.jsx)(o.b,{path:"/campgrounds/login",children:Object(j.jsx)(J,{})}),Object(j.jsx)(o.b,{path:"*",children:Object(j.jsx)(o.a,{to:"/campgrounds"})})]})]})})},oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,96)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),i(e),s(e)}))},le=(a(92),a(64)),de={showLogin:!0,showSignup:!1,showEdit:!1,showDetails:!0,loginFormData:{email:"",password:""},idToken:localStorage.getItem("token")||"",userId:localStorage.getItem("userId")||"",isLoggedin:!!localStorage.getItem("token"),logginFromCamps:!1,allCamps:{}},je=Object(le.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loginComp":return Object(I.a)(Object(I.a)({},e),{},{showLogin:!0,showSignup:!1});case"signupComp":return Object(I.a)(Object(I.a)({},e),{},{showSignup:!0,showLogin:!1});case"detailsComp":return Object(I.a)(Object(I.a)({},e),{},{showDetails:!0,showEdit:!1});case"editComp":return Object(I.a)(Object(I.a)({},e),{},{showEdit:!0,showDetails:!1});case"signupFormData":return Object(I.a)(Object(I.a)({},e),{},{signUpFormData:t.payload});case"loginFormData":return Object(I.a)(Object(I.a)({},e),{},{loginFormData:t.payload});case"loggedin":return Object(I.a)(Object(I.a)({},e),{},{isLoggedin:!0});case"loggedout":return Object(I.a)(Object(I.a)({},e),{},{isLoggedin:!1,loginFormData:null});case"logginFromCampsBtn":return Object(I.a)(Object(I.a)({},e),{},{logginFromCamps:!0});case"logoutFromCampsBtn":return Object(I.a)(Object(I.a)({},e),{},{logginFromCamps:!1});case"setAllCamps":return Object(I.a)(Object(I.a)({},e),{},{allCamps:t.payload});case"removeCamp":var a=e.allCamps;return delete a[t.payload],Object(I.a)(Object(I.a)({},e),{},{allCamps:a});case"updateCamp":var c=e.allCamps;return c[t.payload]=t.payloadData,Object(I.a)(Object(I.a)({},e),{},{allCamps:c});case"getToken":return Object(I.a)(Object(I.a)({},e),{},{idToken:t.payload});default:return e}})),me=je;s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(x.a,{store:me,children:Object(j.jsx)(r.a,{children:Object(j.jsx)(re,{})})})}),document.getElementById("root")),oe()}},[[93,1,2]]]);
//# sourceMappingURL=main.081fea28.chunk.js.map